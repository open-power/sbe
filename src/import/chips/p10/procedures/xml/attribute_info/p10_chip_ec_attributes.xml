<!-- IBM_PROLOG_BEGIN_TAG                                                   -->
<!-- This is an automatically generated prolog.                             -->
<!--                                                                        -->
<!-- $Source: src/import/chips/p10/procedures/xml/attribute_info/p10_chip_ec_attributes.xml $ -->
<!--                                                                        -->
<!-- OpenPOWER sbe Project                                                  -->
<!--                                                                        -->
<!-- Contributors Listed Below - COPYRIGHT 2019,2020                        -->
<!-- [+] International Business Machines Corp.                              -->
<!--                                                                        -->
<!--                                                                        -->
<!-- Licensed under the Apache License, Version 2.0 (the "License");        -->
<!-- you may not use this file except in compliance with the License.       -->
<!-- You may obtain a copy of the License at                                -->
<!--                                                                        -->
<!--     http://www.apache.org/licenses/LICENSE-2.0                         -->
<!--                                                                        -->
<!-- Unless required by applicable law or agreed to in writing, software    -->
<!-- distributed under the License is distributed on an "AS IS" BASIS,      -->
<!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or        -->
<!-- implied. See the License for the specific language governing           -->
<!-- permissions and limitations under the License.                         -->
<!--                                                                        -->
<!-- IBM_PROLOG_END_TAG                                                     -->

<attributes>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_OMI_DL_X4_BACKOFF_ENABLE</id>
    <targetType>TARGET_TYPE_OCMB_CHIP</targetType>
    <description>
      The DL half width backoff enable bit in DL_CONFIG0_CFG (bit 47)
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_EXPLORER</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_GEMINI_MENTERP_WORKAROUND</id>
    <targetType>TARGET_TYPE_OCMB_CHIP</targetType>
    <description>
      Bypass MENTERP register read/writes on gemini due to FW bug
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_GEMINI</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_GEMINI_OMI_SETUP_CONFIG_WORKAROUND</id>
    <targetType>TARGET_TYPE_OCMB_CHIP</targetType>
    <description>
      Setup config registers for gemini in exp_omi_setup
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_GEMINI</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_DS_TEMPLATES_0147</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      The processor only supports downstream OMI tempaltes 0, 1, 4, and 7.
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_US_TEMPLATES_0159</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      The processor only supports upstream OMI tempaltes 0, 1, 5, and 9.
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW514623</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Fix scan flush value of inflight tlbie queue
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW534459</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      HW534459 - mask NCU ERR_RPT(26) since it can errantly go off.
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_MMA_CORE_ABIST_LINKED</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      MMA ABIST engine tied to CL2 ABIST enable
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_ISS1234</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Checkstop on NMMU array parity errors
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW519848</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Fix for init value of the PSCRS registers
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_EXTRA_CYC_DLY_DDS</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Adding extra cycle of delay to DDS to better model DD2
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW520842</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      EQ parallel scan requires flush of RTIM before initiating scan operation
      to avoid spurious PARALLE_SCAN_COMPARE_ERR
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_PARTIAL_IOP_XRAM_ACCESS_ALLOWED</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Allows to access less than 32K IOP XRAM.
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW527698</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Fix scan flush value of L3 REFMOD3 timeout
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_L3_LRU_DD1_MODE_HW524356</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Fix L3 LRU default setting
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW529136</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Cresp token manager link underflow with hotplug + full-qtr psave mode
      Workaround is to disable DLR prior to any hotplug operations, and restore
      the DLR enablement state after the hotplug operation completes.
      Fixed in DD2.0, but leaving workaround enabled for P10 project.
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_VAS_DD1_MODE_HW405778</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Disable MMIO Atag Reuse bug fix on NX Utilization (read-only) registers
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->

  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW533775</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Worthwhile Toad: Trigger recovery in RAM setup sequence to avoid hang
      when performing RAM in SMT2/4
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW527061</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Set PC NxC P1 Correctable ECC errors to be fatal so that a
      chkstop occurs if any CE occurs
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW527671</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Set hyp_hard_range = 0b00 (Thread ID is 7 bits)
      (this bug will not be fixed for P10)
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW528183</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Don't write VSD array to fix an ECC SBE.
      This change is needed in both PC and VC for DD1 only.
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW529018</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Don't send Hyp Pool ChkOut request until Hyp Hard ChkOut request is done.
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW530519</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Disable true priority order presentation on the OS level
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>GREATER_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW529957</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Disable clock gating from NxC Regs to P0/P1
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW531227</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Disable clock gating in int_pc.atx.tctxt
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW530023</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      Set PC NxC P0 Correctable ECC errors to be fatal so that a
      chkstop occurs if any CE occurs
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
  <id>ATTR_CHIP_EC_FEATURE_SPL_WKUP_STOP0_HW529794</id>
  <targetType>TARGET_TYPE_PROC_CHIP</targetType>
  <description>
    QME doesn't respond to special wakeup request for cores which are in STOP0.
  </description>
  <chipEcFeature>
    <chip>
     <name>ENUM_ATTR_NAME_P10</name>
     <ec>
       <value>0x10</value>
       <test>EQUAL</test>
     </ec>
    </chip>
  </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
  <id>ATTR_CHIP_EC_FEATURE_PBA_CLKGATE_DISABLE_HW538414</id>
  <targetType>TARGET_TYPE_PROC_CHIP</targetType>
  <description>
    PBA clock gating errors require disabling clock gating
  </description>
  <chipEcFeature>
    <chip>
     <name>ENUM_ATTR_NAME_P10</name>
     <ec>
       <value>0x10</value>
       <test>EQUAL</test>
     </ec>
    </chip>
  </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
  <id>ATTR_CHIP_EC_FEATURE_HW522788</id>
  <targetType>TARGET_TYPE_PROC_CHIP</targetType>
  <description>
    Numerous defects surrounding DLR with link retrains and high error rates
    for DD1. Checkstop on indicators of link errors from the DLP FIR if DLR
    is enabled to avoid encounters with the known issues.
  </description>
  <chipEcFeature>
    <chip>
     <name>ENUM_ATTR_NAME_P10</name>
     <ec>
       <value>0x10</value>
       <test>EQUAL</test>
     </ec>
    </chip>
  </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
  <id>ATTR_CHIP_EC_FEATURE_FILTER_PLL_HW540133</id>
  <targetType>TARGET_TYPE_PROC_CHIP</targetType>
  <description>
    Adjust PLL calibration point by using observed BANDSEL to
    program adjustment via CCALBANDSEL
  </description>
  <chipEcFeature>
    <chip>
     <name>ENUM_ATTR_NAME_P10</name>
     <ec>
       <value>0x10</value>
       <test>EQUAL</test>
     </ec>
    </chip>
  </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
  <id>ATTR_CHIP_EC_FEATURE_TANK_PLL_HW540133</id>
  <targetType>TARGET_TYPE_PROC_CHIP</targetType>
  <description>
    Adjust PLL calibration point by using observed BANDSEL to
    program adjustment via CCALBANDSEL
  </description>
  <chipEcFeature>
    <chip>
     <name>ENUM_ATTR_NAME_P10</name>
     <ec>
       <value>0x10</value>
       <test>EQUAL</test>
     </ec>
    </chip>
  </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
  <id>ATTR_CHIP_EC_FEATURE_HW541221</id>
  <targetType>TARGET_TYPE_PROC_CHIP</targetType>
  <description>
    Distinct Hazard -- set all CPLT_CTRL5 power gate enables
  </description>
  <chipEcFeature>
    <chip>
     <name>ENUM_ATTR_NAME_P10</name>
     <ec>
       <value>0x10</value>
       <test>EQUAL</test>
     </ec>
    </chip>
  </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
  <id>ATTR_CHIP_EC_FEATURE_HW540443</id>
  <targetType>TARGET_TYPE_PROC_CHIP</targetType>
  <description>
    Disable NCU and L2 swizzle of logical TID based on EX position in fused
    core mode.  Trust what the core sends directly.
  </description>
  <chipEcFeature>
    <chip>
     <name>ENUM_ATTR_NAME_P10</name>
     <ec>
       <value>0x10</value>
       <test>EQUAL</test>
     </ec>
    </chip>
  </chipEcFeature>
  </attribute>
  <!-- ******************************************************************** -->
  <attribute>
   <id>ATTR_CHIP_EC_FEATURE_HW530359_XSL_PARITY</id>
   <targetType>TARGET_TYPE_PROC_CHIP</targetType>
   <description>
     Disable XSL Parity Fir Bit from fencing and killing PAU
     updated pau init files to workaround XSL error HW530359 for DD1
   </description>
   <chipEcFeature>
     <chip>
       <name>ENUM_ATTR_NAME_P10</name>
       <ec>
         <value>0x10</value>
         <test>EQUAL</test>
       </ec>
     </chip>
   </chipEcFeature>
  </attribute>

  <!-- ******************************************************************** -->
  <attribute>
    <id>ATTR_CHIP_EC_FEATURE_HW511630_HW520480</id>
    <targetType>TARGET_TYPE_PROC_CHIP</targetType>
    <description>
      P10 DD1 only; Combined into a single solution
      HW511630 - Mask DSTLFIR[12,13,16,17]
      HW520480 - Set DSTLFIR[20,21] to xstop
    </description>
    <chipEcFeature>
      <chip>
        <name>ENUM_ATTR_NAME_P10</name>
        <ec>
          <value>0x10</value>
          <test>LESS_THAN_OR_EQUAL</test>
        </ec>
      </chip>
    </chipEcFeature>
  </attribute>

</attributes>
